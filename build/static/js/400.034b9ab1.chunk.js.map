{"version":3,"file":"static/js/400.034b9ab1.chunk.js","mappings":"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","sources":["hooks/useBookInfo.ts","pages/admin/AdminCreateItem.tsx"],"sourcesContent":["import { useCallback, useState } from 'react';\r\nimport { BookReq } from 'types/bookTypes';\r\n\r\nconst InitData: BookReq = {\r\n  title: '',\r\n  content: '',\r\n  images: [],\r\n  authorName: '', // authorname 추가\r\n  category: '',\r\n};\r\n\r\nconst useBookInfo = (initData = InitData) => {\r\n  const [bookInfo, setBookInfo] = useState(initData);\r\n\r\n  const resetBookInfo = useCallback(() => {\r\n    setBookInfo(InitData);\r\n  }, [setBookInfo]);\r\n\r\n  return { bookInfo, setBookInfo, resetBookInfo };\r\n};\r\n\r\nexport default useBookInfo;\r\n","import { ChangeEvent as ReactChangeEvent, useEffect, useRef, useState } from 'react';\r\nimport * as S from 'styles/AdminStyledTemp';\r\nimport { usePostBook } from 'queries/book';\r\nimport useBookInfo from 'hooks/useBookInfo';\r\nimport ImageUploader, { ImageUploaderImperativeHandle } from 'components/shared/ImageUploader';\r\nimport Button from 'components/shared/Button';\r\nimport { FaBook } from 'react-icons/fa6';\r\nimport { BOOK_CATEGORIES } from 'constant';\r\nconst AdminCreateItem = () => {\r\n  const { mutate, status } = usePostBook();\r\n  const { bookInfo, setBookInfo, resetBookInfo } = useBookInfo();\r\n  const [isInvalid, setIsInvalid] = useState(true);\r\n\r\n  const imageRef = useRef<ImageUploaderImperativeHandle>(null);\r\n\r\n  useEffect(() => {\r\n    if (!bookInfo.images) return;\r\n    if (\r\n      bookInfo.title.length === 0 ||\r\n      bookInfo.content.length === 0 ||\r\n      bookInfo.authorName.length === 0 ||\r\n      bookInfo.category.length === 0 ||\r\n      bookInfo.images.length === 0\r\n    ) {\r\n      setIsInvalid(true);\r\n    } else {\r\n      setIsInvalid(false);\r\n    }\r\n  }, [bookInfo, setIsInvalid]);\r\n\r\n  const handleChange = (\r\n    e: ReactChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>,\r\n  ) => {\r\n    const { name, value } = e.target;\r\n\r\n    switch (name) {\r\n      case 'title':\r\n        setBookInfo((prev) => ({ ...prev, title: value }));\r\n        break;\r\n      case 'content':\r\n        setBookInfo((prev) => ({ ...prev, content: value }));\r\n        break;\r\n      case 'authorName': // authorName 변경 핸들러 추가\r\n        setBookInfo((prev) => ({ ...prev, authorName: value }));\r\n        break;\r\n      case 'category':\r\n        setBookInfo((prev) => ({ ...prev, category: value }));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const onClick = async () => {\r\n    mutate(bookInfo);\r\n    if (imageRef.current) {\r\n      imageRef.current.handleCancel();\r\n    }\r\n    resetBookInfo();\r\n  };\r\n\r\n  return (\r\n    <S.Layout>\r\n      <S.Container>\r\n        <S.ContainerHeader>\r\n          <S.ContainerTitle>\r\n            <FaBook /> 책 등록하기\r\n          </S.ContainerTitle>\r\n        </S.ContainerHeader>\r\n        <S.Wrapper $gap={20}>\r\n          <S.InputField>\r\n            <S.Label>도서명</S.Label>\r\n            <S.Input\r\n              name=\"title\"\r\n              placeholder=\"Title\"\r\n              value={bookInfo.title}\r\n              onChange={handleChange}\r\n            />\r\n          </S.InputField>\r\n          <S.InputField $marginTop={20}>\r\n            <S.Label>설명</S.Label>\r\n            <S.Textarea\r\n              name=\"content\"\r\n              placeholder=\"content\"\r\n              value={bookInfo.content}\r\n              onChange={handleChange}\r\n            />\r\n          </S.InputField>\r\n          <S.InputField $marginTop={20}>\r\n            <S.Label>저자 ID</S.Label> {/* authorId 입력 필드 추가 */}\r\n            <S.Input\r\n              name=\"authorName\"\r\n              placeholder=\"author name\"\r\n              value={bookInfo.authorName}\r\n              onChange={handleChange}\r\n            />\r\n          </S.InputField>\r\n          <S.InputField $marginTop={20}>\r\n            <S.Label>카테고리</S.Label>\r\n            <S.Select\r\n              size={'LARGE'}\r\n              name=\"category\"\r\n              value={bookInfo.category}\r\n              onChange={handleChange}\r\n            >\r\n              <S.Option size={'LARGE'} value=\"\">\r\n                카테고리\r\n              </S.Option>\r\n              {BOOK_CATEGORIES.map((category) => (\r\n                <S.Option size={'LARGE'} key={category} value={category}>\r\n                  {category}\r\n                </S.Option>\r\n              ))}\r\n            </S.Select>\r\n          </S.InputField>\r\n          <S.InputField $marginTop={20}>\r\n            <S.Label>이미지</S.Label>\r\n            <ImageUploader\r\n              ref={imageRef}\r\n              onChange={(fileData) =>\r\n                setBookInfo((prev) => ({\r\n                  ...prev,\r\n                  images: fileData || [],\r\n                }))\r\n              }\r\n            />\r\n          </S.InputField>\r\n        </S.Wrapper>\r\n        <S.Wrapper $marginTop={40}>\r\n          <Button onClick={onClick} status={status} disabled={isInvalid}>\r\n            등록\r\n          </Button>\r\n        </S.Wrapper>\r\n      </S.Container>\r\n    </S.Layout>\r\n  );\r\n};\r\n\r\nexport default AdminCreateItem;\r\n"],"names":["InitData","title","content","images","authorName","category","initData","arguments","length","undefined","bookInfo","setBookInfo","useState","resetBookInfo","useCallback","AdminCreateItem","mutate","status","usePostBook","useBookInfo","isInvalid","setIsInvalid","imageRef","useRef","useEffect","handleChange","e","name","value","target","prev","_jsx","S","children","_jsxs","FaBook","$gap","placeholder","onChange","$marginTop","size","BOOK_CATEGORIES","map","ImageUploader","ref","fileData","Button","onClick","async","current","handleCancel","disabled"],"sourceRoot":""}